<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>First Time Building Space ROS &mdash; Space ROS Documentation: Rolling  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://space-ros.github.io/docs/rolling/Tutorials/First-Time-Building.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Eventing and Telemetry Subsystem" href="Eventing-And-Telemetry.html" />
    <link rel="prev" title="Tutorials" href="../Tutorials.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Space ROS Documentation: Rolling
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/About-Space-ROS.html">About Space ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/How-Space-ROS-Differs.html">How Space ROS Differs from ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/Dev-And-Release-Model.html">The Space ROS Development and Release Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Getting-Started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Getting-Started/Docker-Images.html">The Space ROS Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Getting-Started/Building-From-Source.html">Building Space ROS from Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Demos.html">Demos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Demos/Canadarm.html">Canadarm Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Demos/Mars-Rover.html">Mars Rover Demo</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">First Time Building Space ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="Eventing-And-Telemetry.html">The Eventing and Telemetry Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="Requirements-Tools-And-Processes.html">Requirements Tools and Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="Back-Porting-Requirements.html">Back-Porting Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="Run-On-RTEMS.html">Running Space ROS on RTEMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../How-To-Guides.html">How-to Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Use-Custom-Allocator.html">Using a Custom Memory Allocator with Space ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Reproducing-CI-Results.html">Reproducing CI Results Locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Use-Cobra.html">Using the Cobra Static Analyzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/MC-DC-Testing-Tool.html">Using the MC/DC Testing Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Use-VSCode-With-Docker.html">Using VSCode with the Space ROS Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Use-The-Dashboard.html">Using use the Space ROS Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To-Guides/Use-Simulation-Assets.html">Using Space-Related Simulation Assets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">Related Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/IKOS.html">IKOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Cobra.html">Cobra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Doorstop.html">Doorstop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/FRET.html">FRET</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../The-Space-ROS-Project/Contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../The-Space-ROS-Project/Governance.html">Project Governance</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Space ROS Documentation: Rolling</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../Tutorials.html">Tutorials</a></li>
      <li class="breadcrumb-item active">First Time Building Space ROS</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/space-ros/docs/blob/rolling/source/Tutorials/First-Time-Building.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="first-time-building-space-ros">
<span id="id1"></span><h1>First Time Building Space ROS<a class="headerlink" href="#first-time-building-space-ros" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#tasks" id="id4">Tasks</a></p></li>
<li><p><a class="reference internal" href="#summary-and-conclusion" id="id5">Summary and conclusion</a></p></li>
</ul>
</div>
<p><strong>Goal:</strong> Create a workspace using Earthly for development and testing.
<strong>Tutorial level:</strong> Beginner</p>
<p><strong>Time:</strong> 10 minutes (not including build time)</p>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id2">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git installation</a></p></li>
<li><p><a class="reference external" href="https://earthly.dev/get-earthly">Earthly installation</a> which requires <a class="reference external" href="https://docker.com">Docker</a>.</p></li>
<li><p>Understanding of basic terminal commands (<a class="reference external" href="http://www.ee.surrey.ac.uk/Teaching/Unix/">here’s a guide for Linux</a>)</p></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>Space ROS, like ROS 2, is composed of a number of independent software projects each maintained in its own repositories.
The ROS community has a number of tools to help organize and improve working with multiple repositories.
Earthly is an automation tool where each target is run in a dedicated container with the ability to share artifacts between targets and the local host.
The Space ROS project primarily uses Earthly to create automation that runs consistently in local development, and in hosted infrastructure such as GitHub Actions.</p>
<div class="section" id="trade-offs">
<h3>Trade-offs<a class="headerlink" href="#trade-offs" title="Permalink to this headline"></a></h3>
<p>Earthly does not modify your host system outside of running containers and the local workspace directory.
This has the advantage of setting up relatively quickly but it also means that working within Earthly will not make setting up a standard ROS 2 development setup any easier.</p>
<p>If you are new to building ROS, this tutorial is a good place to start in order to allow you to get up and running quickly.
If you are familiar with the ROS development workflow and building ROS 2 from source, it is recommended that you follow the ROS 2 development instructions using the Space ROS repos file rather than this guide.</p>
<p>The configured <code class="docutils literal notranslate"><span class="pre">+build-testing</span></code> target is comprehensive and always builds and tests the entire workspace.
Even on a powerful workstation this process can take a long time.
This tutorial does not cover iterating on an individual package or set of packages at this time.</p>
</div>
</div>
<div class="section" id="tasks">
<h2><a class="toc-backref" href="#id4">Tasks</a><a class="headerlink" href="#tasks" title="Permalink to this headline"></a></h2>
<div class="section" id="create-a-local-workspace-directory">
<h3>1 Create a local workspace directory<a class="headerlink" href="#create-a-local-workspace-directory" title="Permalink to this headline"></a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mkdir spaceros_ws</span>
<span class="go">cd spaceros_ws</span>
</pre></div>
</div>
</div>
<div class="section" id="bootstrap-the-earthly-configuration-file">
<h3>2 Bootstrap the Earthly configuration file.<a class="headerlink" href="#bootstrap-the-earthly-configuration-file" title="Permalink to this headline"></a></h3>
<p>Configuration for Earthly is stored in an <code class="docutils literal notranslate"><span class="pre">Earthfile</span></code> at the top level directory.
If you inspect the contents, you’ll find a file which looks like a hybrid of a <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>/<code class="docutils literal notranslate"><span class="pre">Containerfile</span></code> and a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>.
It is not necessary to understand the contents of this file in order to complete this tutorial or use Earthly for Space ROS development but you can read the <a class="reference external" href="https://docs.earthly.dev/docs/earthfile">Earthfile reference</a> if interested.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">earthly --artifact github.com/space-ros/docker/spaceros:nuclearsandwich/earthly-prototyping+earthfile/Earthfile</span>
</pre></div>
</div>
</div>
<div class="section" id="clone-space-ros-sources">
<h3>3 Clone Space ROS sources<a class="headerlink" href="#clone-space-ros-sources" title="Permalink to this headline"></a></h3>
<p>In a typical ROS 2 or Space ROS development setup, you would need to configure the ROS repositories on your host system and install the <code class="docutils literal notranslate"><span class="pre">vcs</span></code> utility.
With Earthly this utility and the others required for ROS development are installed and used within containers, avoiding this requirement.
The <code class="docutils literal notranslate"><span class="pre">+sources</span></code> target will use <code class="docutils literal notranslate"><span class="pre">vcs</span></code> to clone repositories from the Space ROS repos file and save the results to the <code class="docutils literal notranslate"><span class="pre">src</span></code> subdirectory of your host workspace.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">earthly +sources</span>
</pre></div>
</div>
</div>
<div class="section" id="optionally-update-space-ros-sources">
<h3>4 Optionally update Space ROS sources<a class="headerlink" href="#optionally-update-space-ros-sources" title="Permalink to this headline"></a></h3>
<p>If you want to check that Space ROS builds in its default configuration, you can jump to step 5 below and return after to verify that Space ROS’s default configuration is currently building.</p>
<p>At this point you can make any modifications or additions to the repositories in src before continuing with the build.
Editing the sources now will allow you to test Space ROS builds with additional packages or with modifications to an existing package which could be used to test in progress development branches before they are merged.
None of the later steps of this tutorial will modify the contents of <code class="docutils literal notranslate"><span class="pre">src</span></code>.</p>
</div>
<div class="section" id="building-and-testing-space-ros">
<h3>5 Building and testing Space ROS<a class="headerlink" href="#building-and-testing-space-ros" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">+build-testing</span></code> target will build all packages in <code class="docutils literal notranslate"><span class="pre">src</span></code> and place the resulting <code class="docutils literal notranslate"><span class="pre">install</span></code> directory as well as a build results archive in <code class="docutils literal notranslate"><span class="pre">log/build_results_archives</span></code>.
Any changes you make to the repositories in <code class="docutils literal notranslate"><span class="pre">src</span></code> will be reflected in each build.
It isn’t currently possible to change the build arguments or limit which packages are built and tested without modifying the target directly.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">earthly +build-testing</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="summary-and-conclusion">
<h2><a class="toc-backref" href="#id5">Summary and conclusion</a><a class="headerlink" href="#summary-and-conclusion" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Earthly can help you get started by quickly setting up a container environment for building Space ROS yourself and replicating the periodic builds running on Space ROS infrastructure.</p></li>
<li><p>Earthly does not help set up your host computer to develop or run Space ROS directly.</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Tutorials.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Eventing-And-Telemetry.html" class="btn btn-neutral float-right" title="The Eventing and Telemetry Subsystem" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Open Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>